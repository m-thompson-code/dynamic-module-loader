"use strict";(self.webpackChunkdynamic_module_loader=self.webpackChunkdynamic_module_loader||[]).push([[173],{9173:(T,m,n)=>{n.r(m),n.d(m,{GHModule:()=>I});var G=n(9808),l=n(5e3),F=n(2064),R=n(7579),C=n(5577),M=n(8505),O=n(4482),$=n(5403),j=n(8421),z=n(5032);function p(t,s,e){const r=e.path.split("/");if(r.length>t.length||"full"===e.pathMatch&&(s.hasChildren()||r.length<t.length))return null;const a={};for(let o=0;o<r.length;o++){const c=r[o],d=t[o];if(c.startsWith(":"))a[c.substring(1)]=d;else if(c!==d.path)return null}return{consumed:t.slice(0,r.length),posParams:a}}var P=n(2076),H=n(9646);function f(t){return(0,l.CqO)(t)?t:(0,l.QGY)(t)?(0,P.D)(Promise.resolve(t)):(0,H.of)(t)}class v{}const x=t=>s=>s.getFeatureFlagRoutes(t);let S=(()=>{class t{constructor(e){this.featureFlagRoutesGetter=e,this.unsubscribe$=new R.x}getLoadChildrens(e,r,a){return[()=>e.pipe((0,C.z)(o=>(console.log("moo first featureFlag",o),f(o?a():r())))),()=>e.pipe((0,C.z)(o=>(console.log("moo second featureFlag",o),f(o?r():a()))))]}getFeatureRoutePair(e){const r=e.loadChildren,a=e.loadFeatureChildren;let o=!1;e.getFeatureFlag$.pipe((0,M.b)(u=>o=u),function L(t){return(0,O.e)((s,e)=>{(0,j.Xf)(t).subscribe((0,$.x)(e,()=>e.complete(),z.Z)),!e.closed&&s.subscribe(e)})}(this.unsubscribe$)).subscribe();let d=!1;const J=e.getFeatureFlag$.pipe((0,M.b)(u=>d=u)),[Z,N]=this.getLoadChildrens(J,r,a);return[Object.assign(Object.assign({},e),{loadChildren:Z,matcher:(u,h,g)=>{var i;return console.log("first matcher",u,h,g),o!==d?null:(null!==(i=e.matcher)&&void 0!==i?i:p)(u,h,g)}}),Object.assign(Object.assign({},e),{loadChildren:N,matcher:(u,h,g)=>{var i;return console.log("second matcher",u,h,g),(null!==(i=e.matcher)&&void 0!==i?i:p)(u,h,g)}})]}getFeatureFlagRoutes(e){return[...this.featureFlagRoutesGetter.getFeatureRoutes().map(a=>a.loadFeatureChildren?this.getFeatureRoutePair(a):[a]).flat(),...e]}ngOnDestroy(){console.log("FeatureFlagRoutesService ngOnDestroy"),this.unsubscribe$.next(),this.unsubscribe$.complete()}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(v))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})(),B=(()=>{class t{static forChild(e,r){return{ngModule:t,providers:[F.Bz,{provide:v,useExisting:(0,l.Gpc)(()=>r)},S,{provide:F.Z6,useFactory:x(e),multi:!0,deps:[S,v]}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[F.Bz]}),t})();var D=n(4004),U=n(4111),Y=n(4192);const A=[{path:"g/:id",loadChildren:()=>n.e(24).then(n.bind(n,3024)).then(t=>t.GModule)},{path:"h/:id",loadChildren:()=>n.e(219).then(n.bind(n,8219)).then(t=>t.HModule)}];let E=(()=>{class t{constructor(e){this.configService=e}getFeatureRoutes(){return[{path:"g/:id",getFeatureFlag$:this.configService.config$.pipe((0,D.U)(e=>e===U.T.ON)),loadChildren:()=>n.e(24).then(n.bind(n,3024)).then(e=>e.GModule),loadFeatureChildren:()=>n.e(525).then(n.bind(n,525)).then(e=>e.GFeatureModule)}]}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(Y.E))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),I=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[G.ez,B.forChild(A,E)]]}),t})()}}]);