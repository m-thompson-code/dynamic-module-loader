"use strict";(self.webpackChunkdynamic_module_loader=self.webpackChunkdynamic_module_loader||[]).push([[592],{2687:(B,C,a)=>{a.d(C,{Z:()=>z});var i=a(5e3),f=a(5056);const b=e=>o=>[...o.getRoutesFromFeatureFlagRoutesGetterService(),...o.getRoutesFromFeatureFlagRoutes(e)];var M=a(7579),O=a(5577),S=a(262),G=a(4482),L=a(5403),$=a(8421),j=a(5032);function x(e,o,t){const r=function P(e){var o,t;try{return e.path.split("/")}catch(r){return null!==(t=null===(o=e.path)||void 0===o?void 0:o.split("/"))&&void 0!==t?t:[]}}(t);if(r.length>e.length||"full"===t.pathMatch&&(o.hasChildren()||r.length<e.length))return null;const u={};for(let s=0;s<r.length;s++){const l=r[s],n=e[s];if(l.startsWith(":"))u[l.substring(1)]=n;else if(l!==n.path)return null}return{consumed:e.slice(0,r.length),posParams:u}}var V=a(2076),Z=a(9646);function v(e){return(0,i.CqO)(e)?e:(0,i.QGY)(e)?(0,V.D)(Promise.resolve(e)):(0,Z.of)(e)}class p{}class R{getFeatureRoutes(){return[]}}let y=(()=>{class e{constructor(t){this.featureFlagRoutesService=t,this.unsubscribe$=new M.x}getLoadChildrens(t,r,u,s){const l=v(t),n=v(u()),c=v(s());let d=!1;const F=m=>l.pipe((0,O.z)(g=>(m!==r()&&((0,i.X6Q)()&&console.error("Unable to safely use `alternativeLoadChildren`. Feature flag value is changing to rapidly during navigation to predict which initial `NgModule` to load. Falling back to `loadChildren` only and avoiding alternative module."),d=!0),d?n:g===m?c:n)),(0,S.K)(g=>(console.error(g),d=!0,n)));return[()=>F(!0),()=>F(!1)]}getUrlMatchers(t,r){const u=null!=r?r:x;return[(s,l,n)=>t()?u(s,l,n):null,u]}getRoutesFromFeatureFlagRoute(t){const{loadChildren:r,alternativeLoadChildren:u,featureFlag:s}=t,l=s();let n="boolean"==typeof l?l:null,c=n;const d=v(l);"boolean"!=typeof l&&d.pipe(function U(e){return(0,G.e)((o,t)=>{(0,$.Xf)(e).subscribe((0,L.x)(t,()=>t.complete(),j.Z)),!t.closed&&o.subscribe(t)})}(this.unsubscribe$)).subscribe(h=>{null!=n||(n=h),c=h,console.log(n,c)});const F=()=>{const h=s();return"boolean"==typeof h?h===n:c===n},[m,g]=this.getLoadChildrens(d,F,r,u),[D,I]=this.getUrlMatchers(F,t.matcher);return[Object.assign(Object.assign({},t),{loadChildren:m,matcher:D}),Object.assign(Object.assign({},t),{loadChildren:g,matcher:I})]}getRoutesFromFeatureFlagRoutes(t){return t.map(r=>r.alternativeLoadChildren?this.getRoutesFromFeatureFlagRoute(r):[r]).flat()}getRoutesFromFeatureFlagRoutesGetterService(){var t,r;return this.getRoutesFromFeatureFlagRoutes(null!==(r=null===(t=this.featureFlagRoutesService)||void 0===t?void 0:t.getFeatureRoutes())&&void 0!==r?r:[])}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(p))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})(),z=(()=>{class e{constructor(t){}static forChild(t,r){const u=null!=r?r:R;return{ngModule:e,providers:[{provide:p,useExisting:(0,i.Gpc)(()=>u)},y,{provide:f.Z6,useFactory:b(t),multi:!0,deps:[y,p]},{provide:i.deG,multi:!0,useValue:f.Z6}]}}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(f.F0,8))},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({providers:[R],imports:[f.Bz]}),e})()}}]);